import{_ as k}from"./ValaxyMain.vue_vue_type_style_index_0_lang.DRVZBwjS.js";import"./chunks/@vueuse/motion.DqWGeG26.js";import{e as p,u as y,a as E}from"./chunks/vue-router.B_NUezYe.js";import{aa as g,al as s,ag as t,af as l,ai as i,F as b,ab as m,Z as f}from"./framework.Dh18Cujy.js";import"./app.Bo3ncHiD.js";import"./chunks/dayjs.BdcnXKr1.js";import"./chunks/vue-i18n.Kjw9Kgky.js";import"./chunks/pinia.D-Z6uwTB.js";import"./chunks/nprogress.CsBYjVvZ.js";/* empty css                    */import"./YunComment.vue_vue_type_style_index_0_lang.X_8sj6Pz.js";import"./index.C5okkQwF.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang.BTUM38rn.js";import"./post.bIk_BvW9.js";const v=p("/posts/GKD规则编写之属性-2",async e=>JSON.parse('{"title":"GKD规则编写之属性-2","description":"","frontmatter":{"title":"GKD规则编写之属性-2","tags":["GKD","教程"],"date":"2024-01-06 13:00:23","categories":["教程","GKD"]},"headers":[],"relativePath":"pages/posts/GKD规则编写之属性-2.md","lastUpdated":1768716554000}'),{lazy:(e,n)=>e.name===n.name}),U={__name:"GKD规则编写之属性-2",setup(e,{expose:n}){const{data:o}=v(),r=E(),d=y(),h=Object.assign(d.meta.frontmatter||{},o.value?.frontmatter||{});return r.currentRoute.value.data=o.value,f("valaxy:frontmatter",h),globalThis.$frontmatter=h,n({frontmatter:{title:"GKD规则编写之属性-2",tags:["GKD","教程"],date:"2024-01-06 13:00:23",categories:["教程","GKD"]}}),(a,c)=>{const u=k;return m(),g(u,{frontmatter:b(h)},{"main-content-md":s(()=>[...c[0]||(c[0]=[l("h1",{id:"_0-前言",tabindex:"-1"},[i("0. 前言 "),l("a",{class:"header-anchor",href:"#_0-前言","aria-label":'Permalink to "0. 前言"'},"​")],-1),l("p",null,[i("本篇主要讲述在GKD规则编写中不必需，但常用的"),l("code",null,"属性"),i("。")],-1),l("p",null,"如果没有看过上一篇的同学，请看完上一篇哦！",-1),l("h1",{id:"_1-正文",tabindex:"-1"},[i("1. 正文 "),l("a",{class:"header-anchor",href:"#_1-正文","aria-label":'Permalink to "1. 正文"'},"​")],-1),l("h2",{id:"_1-1-snapshoturls",tabindex:"-1"},[i("1.1 snapshotUrls "),l("a",{class:"header-anchor",href:"#_1-1-snapshoturls","aria-label":'Permalink to "1.1 snapshotUrls"'},"​")],-1),l("p",null,[l("code",null,"snapshotUrls"),i("属性通常位于"),l("code",null,"rules"),i("属性内，与"),l("code",null,"matches"),i("属性同级。")],-1),l("p",null,[l("code",null,"snapshotUrls"),i("属性后接字符串，字符串的内容是快照的导入链接。")],-1),l("p",null,"那么，什么是快照？又有什么作用？",-1),l("h3",{id:"_1-1-1-快照",tabindex:"-1"},[i("1.1.1 快照 "),l("a",{class:"header-anchor",href:"#_1-1-1-快照","aria-label":'Permalink to "1.1.1 快照"'},"​")],-1),l("p",null,[i("以下对于"),l("code",null,"快照"),i("的介绍来自@"),l("a",{href:"https://github.com/Snoopy1866",target:"_blank",rel:"noreferrer"},"Snoopy1866（锟斤拷）")],-1),l("blockquote",null,[l("p",null,"GKD 使用无障碍权限获取到某个广告弹窗的界面元素信息，并可以通过快照将界面元素信息永久保存，便于规则的书写和维护。"),l("p",null,"PS：快照不同于截图。截图仅包含界面的图像信息，而快照不仅包含界面的图像信息，还包含界面的元素信息，例如控件的名称和属性，以及控件与控件之间的位置关系信息。")],-1),l("h3",{id:"_1-1-2-格式",tabindex:"-1"},[i("1.1.2 格式 "),l("a",{class:"header-anchor",href:"#_1-1-2-格式","aria-label":'Permalink to "1.1.2 格式"'},"​")],-1),l("p",null,[l("code",null,"snapshotUrls"),i("属性的格式为：")],-1),l("div",{class:"language-json"},[l("button",{title:"Copy code",class:"copy"}),l("span",{class:"lang"},"json"),l("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[l("code",{"v-pre":""},[l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"snapshotUrls: '快照链接'")])])]),l("button",{class:"code-block-unfold-btn"})],-1),l("p",null,[l("code",null,"snapshotUrls"),i("属性的值也可以是数组，格式如下：")],-1),l("div",{class:"language-json"},[l("button",{title:"Copy code",class:"copy"}),l("span",{class:"lang"},"json"),l("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[l("code",{"v-pre":""},[l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"snapshotUrls: [")]),i(`
`),l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#B31D28","--shiki-light-font-style":"italic","--shiki-dark":"#FDAEB7","--shiki-dark-font-style":"italic"}},"    '快照链接"),l("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"1"),l("span",{style:{"--shiki-light":"#B31D28","--shiki-light-font-style":"italic","--shiki-dark":"#FDAEB7","--shiki-dark-font-style":"italic"}},"'"),l("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",")]),i(`
`),l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#B31D28","--shiki-light-font-style":"italic","--shiki-dark":"#FDAEB7","--shiki-dark-font-style":"italic"}},"    '快照链接"),l("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"2"),l("span",{style:{"--shiki-light":"#B31D28","--shiki-light-font-style":"italic","--shiki-dark":"#FDAEB7","--shiki-dark-font-style":"italic"}},"'"),l("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",")]),i(`
`),l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#B31D28","--shiki-light-font-style":"italic","--shiki-dark":"#FDAEB7","--shiki-dark-font-style":"italic"}},"    '...'"),l("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",")]),i(`
`),l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]")])])]),l("button",{class:"code-block-unfold-btn"})],-1),l("p",null,[l("strong",null,[i("请注意：快照链接必须以"),l("code",null,"https://i.gkd.li/i/"),i("开头，关于如何获取该链接，可以前往@Snoopy1866编写的"),l("a",{href:"https://github.com/Snoopy1866/blogs/blob/main/software/gkd/gkd-rule-tutorial/gkd-rule-tutorial.md",target:"_blank",rel:"noreferrer"},"教程处"),i("查看")])],-1),l("p",null,[l("code",null,"snapshotUrls"),i("属性所处的位置：")],-1),l("div",{class:"language-json"},[l("button",{title:"Copy code",class:"copy"}),l("span",{class:"lang"},"json"),l("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[l("code",{"v-pre":""},[l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"{")]),i(`
`),l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#B31D28","--shiki-light-font-style":"italic","--shiki-dark":"#FDAEB7","--shiki-dark-font-style":"italic"}},"    groups"),l("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": [")]),i(`
`),l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#B31D28","--shiki-light-font-style":"italic","--shiki-dark":"#FDAEB7","--shiki-dark-font-style":"italic"}},"        rules:"),l("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," [")]),i(`
`),l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#B31D28","--shiki-light-font-style":"italic","--shiki-dark":"#FDAEB7","--shiki-dark-font-style":"italic"}},"        	snapshotUrls:"),l("span",{style:{"--shiki-light":"#B31D28","--shiki-light-font-style":"italic","--shiki-dark":"#FDAEB7","--shiki-dark-font-style":"italic"}}," '快照链接'"),l("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",")]),i(`
`),l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    	],")]),i(`
`),l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    ]")]),i(`
`),l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])]),l("button",{class:"code-block-unfold-btn"})],-1),l("h3",{id:"_1-1-3-特殊情况",tabindex:"-1"},[i("1.1.3 特殊情况 "),l("a",{class:"header-anchor",href:"#_1-1-3-特殊情况","aria-label":'Permalink to "1.1.3 特殊情况"'},"​")],-1),l("p",null,[i("特别地，如果"),l("code",null,"rules"),i("属性被简写为"),l("code",null,"rules: 规则"),i("时，"),l("code",null,"snapshotUrls"),i("的位置应在：")],-1),l("div",{class:"language-json"},[l("button",{title:"Copy code",class:"copy"}),l("span",{class:"lang"},"json"),l("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[l("code",{"v-pre":""},[l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"{")]),i(`
`),l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#B31D28","--shiki-light-font-style":"italic","--shiki-dark":"#FDAEB7","--shiki-dark-font-style":"italic"}},"    groups"),l("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": [")]),i(`
`),l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#B31D28","--shiki-light-font-style":"italic","--shiki-dark":"#FDAEB7","--shiki-dark-font-style":"italic"}},"        rules:"),l("span",{style:{"--shiki-light":"#B31D28","--shiki-light-font-style":"italic","--shiki-dark":"#FDAEB7","--shiki-dark-font-style":"italic"}}," '规则'"),l("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",")]),i(`
`),l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#B31D28","--shiki-light-font-style":"italic","--shiki-dark":"#FDAEB7","--shiki-dark-font-style":"italic"}},"        snapshotUrls:"),l("span",{style:{"--shiki-light":"#B31D28","--shiki-light-font-style":"italic","--shiki-dark":"#FDAEB7","--shiki-dark-font-style":"italic"}}," '快照链接'"),l("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",")]),i(`
`),l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    ]")]),i(`
`),l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}")])])]),l("button",{class:"code-block-unfold-btn"})],-1),l("h2",{id:"_1-2-fastquery",tabindex:"-1"},[i("1.2 fastQuery "),l("a",{class:"header-anchor",href:"#_1-2-fastquery","aria-label":'Permalink to "1.2 fastQuery"'},"​")],-1),l("p",null,[l("code",null,"fastQuery"),i("属性需要搭配"),l("code",null,"网页审查工具"),i("使用。")],-1),l("p",null,[i("关于"),l("code",null,"网页审查工具"),i("，可以前往@Snoopy1866编写的"),l("a",{href:"https://github.com/Snoopy1866/blogs/blob/main/software/gkd/gkd-rule-tutorial/gkd-rule-tutorial.md",target:"_blank",rel:"noreferrer"},"教程"),i("处查看。")],-1),l("h3",{id:"_1-2-1-格式",tabindex:"-1"},[i("1.2.1 格式 "),l("a",{class:"header-anchor",href:"#_1-2-1-格式","aria-label":'Permalink to "1.2.1 格式"'},"​")],-1),l("p",null,[l("code",null,"fastQuery"),i("属性的接受的值的类型为："),l("code",null,"boolean"),i("类型，")],-1),l("p",null,[i("即："),l("code",null,"true"),i("或"),l("code",null,"false"),i("，")],-1),l("p",null,"使用方法如下：",-1),l("div",{class:"language-json"},[l("button",{title:"Copy code",class:"copy"}),l("span",{class:"lang"},"json"),l("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[l("code",{"v-pre":""},[l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"fastQuery: "),l("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"true"),l("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",")])])]),l("button",{class:"code-block-unfold-btn"})],-1),l("p",null,[l("strong",null,[i("注意：当"),l("code",null,"fastQuery"),i("的值为"),l("code",null,"false"),i("时，"),l("code",null,"fastQuery"),i("属性应省略不写")])],-1),l("h3",{id:"_1-2-2-说明",tabindex:"-1"},[i("1.2.2 说明 "),l("a",{class:"header-anchor",href:"#_1-2-2-说明","aria-label":'Permalink to "1.2.2 说明"'},"​")],-1),l("p",null,[i("关于"),l("code",null,"fastQuery"),i("属性的说明：")],-1),l("h4",{id:"_1-2-2-1-什么时候使用fastquery属性",tabindex:"-1"},[i("1.2.2.1 什么时候使用"),l("code",null,"fastQuery"),i("属性？ "),l("a",{class:"header-anchor",href:"#_1-2-2-1-什么时候使用fastquery属性","aria-label":'Permalink to "1.2.2.1 什么时候使用`fastQuery`属性？"'},"​")],-1),l("p",null,[i("当"),l("code",null,"rules"),i("属性内的规则的满足下列条件：")],-1),l("p",null,[l("code",null,"末尾属性选择器"),i("的"),l("code",null,"第一个属性选择表达式"),i("符合下面的结构之一的选择器")],-1),l("ul",null,[l("li",null,[l("code",null,"[id='abc']")]),l("li",null,[l("code",null,"[vid='abc']")]),l("li",null,[l("code",null,"[text='abc']")]),l("li",null,[l("code",null,"[text^='abc']")]),l("li",null,[l("code",null,"[text*='abc']")]),l("li",null,[l("code",null,"[text$='abc']")])],-1),l("p",null,[i("或者使用"),l("code",null,"||"),i("将它们连接形成的逻辑表达式也符合条件，即如下格式：")],-1),l("ul",null,[l("li",null,[l("code",null,"[id='abc' || id='abc2']")]),l("li",null,[l("code",null,"[id='abc' || vid='abc' || text='abc' || text^='abc' || text*='abc' || text$='abc']")])],-1),l("p",null,"下面给出实际示例：✅表示符合格式, ❎表示不符合格式",-1),l("ul",null,[l("li",null,[l("code",null,"A > B + C[id='x'][childCount=2]"),i(" ✅")]),l("li",null,[l("code",null,"A > B + C[childCount=2][id='x']"),i(" ❎")]),l("li",null,[l("code",null,"A > B + C[id='x' || text='manbaout' || text*='ikun'][childCount=2]"),i(" ✅")]),l("li",null,[l("code",null,"A > B + C[childCount=2][id='x' || text='manbaout' || text*='ikun']"),i(" ❎")])],-1),l("p",null,"这样一个选择器只能在右侧使用快速查询，为了在中间的子选择器也能使用",-1),l("p",null,[i("额外规定如果属性选择器如果符合上面格式并且右侧是"),l("code",null,"<<n"),i("，也能在局部使用快速查找")],-1),l("p",null,[i("示例："),l("code",null,"A > B + C[id='x'][childCount=2] <<n D"),i("中的"),l("code",null,"C[id='x'][childCount=2] <<n"),i("可以使用局部快速查找")],-1),l("p",null,"下面给出满足局部查询优化的示例：✅表示符合格式, ❎表示不符合格式",-1),l("ul",null,[l("li",null,[l("code",null,"A > B + C[id='x'][childCount=2] <<n D"),i(" ✅")]),l("li",null,[l("code",null,"A > B + C[childCount=2][id='x'] <<n D"),i(" ❎")])],-1),l("p",null,"上面介绍的是只有一个局部选择器的情况，下面给出多个局部快速查找的的示例：",-1),l("p",null,[i("如"),l("code",null,"A > C[id='x'] <<n D[id='y'] <<n E"),i("，其中的"),l("code",null,"C[id='x'] <<n"),i("和"),l("code",null,"D[id='y'] <<n"),i("都可以使用局部快速查找")],-1),l("p",null,[i("而且只有"),l("code",null,"网页审查工具"),i("出现"),l("code",null,"可快速查找"),i("提示（即一个对勾）时，可以使用"),l("code",null,"fastQuery"),i("属性。")],-1),l("p",null,[l("strong",null,[i("注意：如果选择器不存在满足快速查找的格式, "),l("code",null,"fastQuery"),i("是否开启都不影响查询复杂度")])],-1),l("h4",{id:"_1-2-2-2-fastquery属性的位置",tabindex:"-1"},[i("1.2.2.2 "),l("code",null,"fastQuery"),i("属性的位置 "),l("a",{class:"header-anchor",href:"#_1-2-2-2-fastquery属性的位置","aria-label":'Permalink to "1.2.2.2 `fastQuery`属性的位置"'},"​")],-1),l("ol",null,[l("li",null,[l("p",null,[i("当"),l("code",null,"fastQuery"),i("属性与"),l("code",null,"rules"),i("属性同级时，该规则组的所有规则全部使用"),l("code",null,"fastQuery"),i("。")]),l("p",null,[i("可以理解为：在该规则组下全局开启"),l("code",null,"fastQuery"),i("。")])]),l("li",null,[l("p",null,[i("当"),l("code",null,"fastQuery"),i("属性位于"),l("code",null,"rules"),i("属性内的其中一个对象中时，仅对该"),l("code",null,"子规则集"),i("开启"),l("code",null,"fastQuery"),i("。")]),l("p",null,[i("可以理解为：局部使用"),l("code",null,"fastQuery")])])],-1),l("h2",{id:"_1-3-activityids",tabindex:"-1"},[i("1.3 activityIds "),l("a",{class:"header-anchor",href:"#_1-3-activityids","aria-label":'Permalink to "1.3 activityIds"'},"​")],-1),l("p",null,[l("code",null,"activityIds"),i("属性需要搭配"),l("code",null,"网页审查工具"),i("使用。")],-1),l("p",null,"这里拓展下，什么是activity？",-1),l("h3",{id:"_1-3-1-activity",tabindex:"-1"},[i("1.3.1 activity "),l("a",{class:"header-anchor",href:"#_1-3-1-activity","aria-label":'Permalink to "1.3.1 activity"'},"​")],-1),l("p",null,"Android的Activity是一个应用组件，一个应用通常由多个彼此松散联系的activity组成，在这里，你只需要知道这个就足够了。",-1),l("p",null,"GKD的activityIds与Android的Activity是一样的。",-1),l("h3",{id:"_1-3-2-介绍",tabindex:"-1"},[i("1.3.2 介绍 "),l("a",{class:"header-anchor",href:"#_1-3-2-介绍","aria-label":'Permalink to "1.3.2 介绍"'},"​")],-1),l("p",null,[l("code",null,"activityIds"),i("属性接受一个"),l("code",null,"String"),i("类型（即字符串）的值 或者 一个"),l("code",null,"String"),i("类型的数组")],-1),l("p",null,"值的内容是规则执行的activityId",-1),l("h4",{id:"_1-3-2-1-activityids属性的意义",tabindex:"-1"},[i("1.3.2.1 activityIds属性的意义 "),l("a",{class:"header-anchor",href:"#_1-3-2-1-activityids属性的意义","aria-label":'Permalink to "1.3.2.1 activityIds属性的意义"'},"​")],-1),l("blockquote",null,[l("p",null,"值的内容是规则执行的activityId")],-1),l("p",null,"如何理解这句话？",-1),l("p",null,"activityIds相当于是一个牢笼，将规则的生效范围局限在activityIds规定的Activity下。",-1),l("p",null,"比如，一个规则A，在Activity1下能正常工作，但在Activity2下误触。",-1),l("p",null,"这时，我们就需要用activityIds，将规则的生效范围限定在Activity1，使其不在Activity2生效",-1),l("h4",{id:"_1-3-2-2-格式",tabindex:"-1"},[i("1.3.2.2 格式 "),l("a",{class:"header-anchor",href:"#_1-3-2-2-格式","aria-label":'Permalink to "1.3.2.2 格式"'},"​")],-1),l("p",null,"使用方法如下：",-1),l("div",{class:"language-json"},[l("button",{title:"Copy code",class:"copy"}),l("span",{class:"lang"},"json"),l("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[l("code",{"v-pre":""},[l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"activityIds: 'activityId',")])])]),l("button",{class:"code-block-unfold-btn"})],-1),l("p",null,"或",-1),l("div",{class:"language-json"},[l("button",{title:"Copy code",class:"copy"}),l("span",{class:"lang"},"json"),l("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[l("code",{"v-pre":""},[l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"activityIds: [")]),i(`
`),l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'    "activityId1"'),l("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",")]),i(`
`),l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'    "activityId2"'),l("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",")]),i(`
`),l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#B31D28","--shiki-light-font-style":"italic","--shiki-dark":"#FDAEB7","--shiki-dark-font-style":"italic"}},"    ...")]),i(`
`),l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"],")])])]),l("button",{class:"code-block-unfold-btn"})],-1),l("h4",{id:"_1-3-2-3-说明",tabindex:"-1"},[i("1.3.2.3 说明 "),l("a",{class:"header-anchor",href:"#_1-3-2-3-说明","aria-label":'Permalink to "1.3.2.3 说明"'},"​")],-1),l("p",null,[i("类比"),l("code",null,"fastQuery"),i("属性，")],-1),l("ol",null,[l("li",null,[l("p",null,[i("当"),l("code",null,"activityIds"),i("属性与"),l("code",null,"rules"),i("属性同级时，该规则组的所有规则全部在"),l("code",null,"activityIds"),i("规定的activity中生效。")])]),l("li",null,[l("p",null,[i("当"),l("code",null,"activityIds"),i("属性位于"),l("code",null,"rules"),i("属性内的其中一个对象中时，在仅是该"),l("code",null,"子规则集"),i("在"),l("code",null,"activityIds"),i("规定的activity中生效。")])])],-1),l("h2",{id:"_1-4-resetmatch",tabindex:"-1"},[i("1.4 resetMatch "),l("a",{class:"header-anchor",href:"#_1-4-resetmatch","aria-label":'Permalink to "1.4 resetMatch"'},"​")],-1),l("p",null,[l("code",null,"resetMatch"),i("属性接受一个"),l("code",null,"string"),i("类型的参数。")],-1),l("p",null,[i("可选参数为："),l("code",null,"app"),i("和"),l("code",null,"activity"),i("。默认为"),l("code",null,"activity"),i("。")],-1),l("h3",{id:"_1-4-1-格式",tabindex:"-1"},[i("1.4.1 格式 "),l("a",{class:"header-anchor",href:"#_1-4-1-格式","aria-label":'Permalink to "1.4.1 格式"'},"​")],-1),l("div",{class:"language-json5"},[l("button",{title:"Copy code",class:"copy"}),l("span",{class:"lang"},"json5"),l("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[l("code",{"v-pre":""},[l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"resetMatch: "),l("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"'app'"),l("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",")]),i(`
`),l("span",{class:"line"}),i(`
`),l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"resetMatch: "),l("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"'activity'"),l("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",")])])]),l("button",{class:"code-block-unfold-btn"})],-1),l("h3",{id:"_1-4-2-说明",tabindex:"-1"},[i("1.4.2 说明 "),l("a",{class:"header-anchor",href:"#_1-4-2-说明","aria-label":'Permalink to "1.4.2 说明"'},"​")],-1),l("h4",{id:"_1-4-2-1-作用",tabindex:"-1"},[i("1.4.2.1 作用 "),l("a",{class:"header-anchor",href:"#_1-4-2-1-作用","aria-label":'Permalink to "1.4.2.1 作用"'},"​")],-1),l("p",null,[l("code",null,"resetMatch"),i("属性的作用为：规定在规则因"),l("code",null,"actionMaximum"),i("等原因进入冷却后，重新开始匹配的条件。")],-1),l("p",null,[i("当"),l("code",null,"resetMatch"),i("的值为"),l("code",null,"app"),i("时，规则冷却后，只有重新进入app才会重新开始匹配；")],-1),l("p",null,[i("当"),l("code",null,"resetMatch"),i("的值为默认的"),l("code",null,"activity"),i("时，规则冷却后，只要activity变化，就会重新开始匹配。")],-1),l("p",null,[l("strong",null,"请注意：activity的变化并不一定伴随着activityId的变化。")],-1),l("h4",{id:"_1-4-2-2-特殊情况",tabindex:"-1"},[i("1.4.2.2 特殊情况 "),l("a",{class:"header-anchor",href:"#_1-4-2-2-特殊情况","aria-label":'Permalink to "1.4.2.2 特殊情况"'},"​")],-1),l("p",null,[i("当"),l("code",null,"resetMatch"),i("的值为"),l("code",null,"activity"),i("时，一般不会写进规则中。")],-1),l("p",null,"如：",-1),l("div",{class:"language-json5"},[l("button",{title:"Copy code",class:"copy"}),l("span",{class:"lang"},"json5"),l("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[l("code",{"v-pre":""},[l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"{")]),i(`
`),l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"    resetMatch"),l("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": "),l("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"'activity'"),l("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",")]),i(`
`),l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"    rules"),l("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": "),l("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"''"),l("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",")]),i(`
`),l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"},")])])]),l("button",{class:"code-block-unfold-btn"})],-1),l("p",null,"与",-1),l("div",{class:"language-json5"},[l("button",{title:"Copy code",class:"copy"}),l("span",{class:"lang"},"json5"),l("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[l("code",{"v-pre":""},[l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"{")]),i(`
`),l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"    rules"),l("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": "),l("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"''"),l("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",")]),i(`
`),l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"},")])])]),l("button",{class:"code-block-unfold-btn"})],-1),l("p",null,"完全等价，我们一般会选择下方的写法。",-1),l("h4",{id:"_1-4-2-3-位置",tabindex:"-1"},[i("1.4.2.3 位置 "),l("a",{class:"header-anchor",href:"#_1-4-2-3-位置","aria-label":'Permalink to "1.4.2.3 位置"'},"​")],-1),l("p",null,[i("类比"),l("code",null,"fastQuery"),i("属性，")],-1),l("ol",null,[l("li",null,[l("p",null,[i("当"),l("code",null,"resetMatch"),i("属性与"),l("code",null,"rules"),i("属性同级时，该规则组的所有规则全部使用"),l("code",null,"resetMatch"),i("的设置。")])]),l("li",null,[l("p",null,[i("当"),l("code",null,"resetMatch"),i("属性位于"),l("code",null,"rules"),i("属性内的其中一个对象中时，在仅是该"),l("code",null,"子规则集"),i("使用"),l("code",null,"resetMatch"),i("的设置。")])])],-1),l("h2",{id:"_1-5-matchtime",tabindex:"-1"},[i("1.5 matchTime "),l("a",{class:"header-anchor",href:"#_1-5-matchtime","aria-label":'Permalink to "1.5 matchTime"'},"​")],-1),l("p",null,[l("code",null,"matchTime"),i("属性接受一个"),l("code",null,"Interger"),i("类型的参数。")],-1),l("p",null,"其参数含义为：规则匹配时间，使用的单位是毫秒。",-1),l("p",null,"那么为什么需要这么一个属性呢？",-1),l("h3",{id:"_1-5-1-作用",tabindex:"-1"},[i("1.5.1 作用 "),l("a",{class:"header-anchor",href:"#_1-5-1-作用","aria-label":'Permalink to "1.5.1 作用"'},"​")],-1),l("p",null,"我们看一下官方对其的说明：",-1),l("blockquote",null,[l("p",null,[i("规则匹配时间，此规则参与查询屏幕节点时，等待一段时间，休眠此规则 例如某些应用的"),l("code",null,"开屏广告"),i("的"),l("code",null,"activityId"),i("容易误触/太广泛，而开屏广告几乎只在应用切出来时出现，设置一个有限匹配时间能避免后续的误触")])],-1),l("p",null,"可以看到，其是为了防止误触而出现的一个属性。",-1),l("p",null,[i("一般来说：我们仅会在"),l("code",null,"开屏广告"),i("类的规则使用到它，但是在特殊情况下，其他分类的规则也会使用。")],-1),l("h3",{id:"_1-5-2-格式",tabindex:"-1"},[i("1.5.2 格式 "),l("a",{class:"header-anchor",href:"#_1-5-2-格式","aria-label":'Permalink to "1.5.2 格式"'},"​")],-1),l("div",{class:"language-json5"},[l("button",{title:"Copy code",class:"copy"}),l("span",{class:"lang"},"json5"),l("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[l("code",{"v-pre":""},[l("span",{class:"line"},[l("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"matchTime: "),l("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"10000"),l("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", "),l("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"// 设置为 10000 是最常见的")])])]),l("button",{class:"code-block-unfold-btn"})],-1),l("h3",{id:"_1-5-3-说明",tabindex:"-1"},[i("1.5.3 说明 "),l("a",{class:"header-anchor",href:"#_1-5-3-说明","aria-label":'Permalink to "1.5.3 说明"'},"​")],-1),l("p",null,[i("类比"),l("code",null,"fastQuery"),i("属性，")],-1),l("ol",null,[l("li",null,[l("p",null,[i("当"),l("code",null,"matchTime"),i("属性与"),l("code",null,"rules"),i("属性同级时，该规则组的所有规则全部使用"),l("code",null,"matchTime"),i("的设置。")])]),l("li",null,[l("p",null,[i("当"),l("code",null,"matchTime"),i("属性位于"),l("code",null,"rules"),i("属性内的其中一个对象中时，在仅是该"),l("code",null,"子规则集"),i("使用"),l("code",null,"matchTime"),i("的设置。")])])],-1),l("h2",{id:"_1-6-actionmaximum",tabindex:"-1"},[i("1.6 actionMaximum "),l("a",{class:"header-anchor",href:"#_1-6-actionmaximum","aria-label":'Permalink to "1.6 actionMaximum"'},"​")],-1),l("p",null,"–TODO–",-1)])]),"main-header":s(()=>[t(a.$slots,"main-header")]),"main-header-after":s(()=>[t(a.$slots,"main-header-after")]),"main-nav":s(()=>[t(a.$slots,"main-nav")]),"main-content-before":s(()=>[t(a.$slots,"main-content-before")]),"main-content":s(()=>[t(a.$slots,"main-content")]),"main-content-after":s(()=>[t(a.$slots,"main-content-after")]),"main-nav-before":s(()=>[t(a.$slots,"main-nav-before")]),"main-nav-after":s(()=>[t(a.$slots,"main-nav-after")]),comment:s(()=>[t(a.$slots,"comment")]),footer:s(()=>[t(a.$slots,"footer")]),aside:s(()=>[t(a.$slots,"aside")]),"aside-custom":s(()=>[t(a.$slots,"aside-custom")]),default:s(()=>[t(a.$slots,"default")]),_:3},8,["frontmatter"])}}};export{U as default,v as usePageData};
