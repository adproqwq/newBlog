import{_ as m}from"./ValaxyMain.vue_vue_type_style_index_0_lang.DKygBXel.js";import"./chunks/@vueuse/motion.C6Ekihuy.js";import{e as h,u as b,a as g}from"./chunks/vue-router.CzbdkCaa.js";import{aa as f,al as n,ag as o,af as l,ai as e,P as k,ab as v,a1 as y}from"./framework.B2YFe9Mq.js";import"./app.CGSMPxd4.js";import"./chunks/dayjs.BdcnXKr1.js";import"./chunks/vue-i18n.CjNrT1TA.js";import"./chunks/pinia.BWx5iqyz.js";import"./chunks/nprogress.B9kMoawc.js";/* empty css                    */import"./YunComment.vue_vue_type_style_index_0_lang.CQHXVoVf.js";import"./index.C5okkQwF.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang.BiS5ARWp.js";import"./post.Bp7QhKsz.js";const $=h("/posts/GKD规则编写之选择器-1",async u=>JSON.parse('{"title":"GKD规则编写之选择器-1","description":"","frontmatter":{"title":"GKD规则编写之选择器-1","tags":["GKD","教程"],"date":"2023-12-23 20:43:17","categories":["教程","GKD"]},"headers":[],"relativePath":"pages/posts/GKD规则编写之选择器-1.md","lastUpdated":1760720111000}'),{lazy:(u,t)=>u.name===t.name}),j={__name:"GKD规则编写之选择器-1",setup(u,{expose:t}){const{data:c}=$(),i=g(),r=b(),d=Object.assign(r.meta.frontmatter||{},c.value?.frontmatter||{});return i.currentRoute.value.data=c.value,y("valaxy:frontmatter",d),globalThis.$frontmatter=d,t({frontmatter:{title:"GKD规则编写之选择器-1",tags:["GKD","教程"],date:"2023-12-23 20:43:17",categories:["教程","GKD"]}}),(a,s)=>{const p=m;return v(),f(p,{frontmatter:k(d)},{"main-content-md":n(()=>[...s[0]||(s[0]=[l("h1",{id:"前言",tabindex:"-1"},[e("前言 "),l("a",{class:"header-anchor",href:"#前言","aria-label":'Permalink to "前言"'},"​")],-1),l("p",null,"本教程仅为个人理解，可能不严谨，请见谅。",-1),l("p",null,"本教程不会有太多的图~~，别问，问就是懒得截~~",-1),l("p",null,"GKD的规则编写靠的就是选择器，选择器的作用就是根据信息去定位节点。",-1),l("p",null,"GKD所使用的选择器是类似CSS的选择器的，所以如果写过CSS的上手会更快一些。",-1),l("p",null,"下面正式开始。",-1),l("hr",null,null,-1),l("h1",{id:"语法",tabindex:"-1"},[e("语法 "),l("a",{class:"header-anchor",href:"#语法","aria-label":'Permalink to "语法"'},"​")],-1),l("p",null,"先展示下官方的介绍：",-1),l("blockquote",null,[l("p",null,"与 css 类似, 一个选择器由 属性选择器 和 关系选择器 交叉组成, 并且开头末尾必须是 属性选择器"),l("p",null,[e("示例 "),l("code",null,"div > img"),e(" 的结构是 "),l("code",null,"属性选择器 关系选择器 属性选择器"),e(", 它表示选择一个 "),l("code",null,"img"),e(" 节点并且它父节点是 "),l("code",null,"div"),e(", 这与相同 css 语法语义一致")]),l("p",null,[e("另外 属性选择器 和 关系选择器 之前必须强制用空格隔开, 也就是 "),l("code",null,"div>img"),e(" 是非法的, 必须写成 "),l("code",null,"div > img")])],-1),l("blockquote",null,[l("p",null,"一个选择器由 属性选择器 和 关系选择器 交叉组成, 并且开头末尾必须是 属性选择器")],-1),l("p",null,"这句是什么意思呢？第二段也有例子，如果看不懂的话，用数学来举例就明白了：1+2",-1),l("p",null,[e("式子里的1和2就是所谓"),l("code",null,"属性选择器"),e("，+号就是所谓"),l("code",null,"关系选择器"),e("，开头和末尾必须是"),l("code",null,"属性选择器"),e("的原因也就知道了，因为像 1+2+ 这样的式子是不完整的。")],-1),l("h1",{id:"属性选择器",tabindex:"-1"},[e("属性选择器 "),l("a",{class:"header-anchor",href:"#属性选择器","aria-label":'Permalink to "属性选择器"'},"​")],-1),l("p",null,"官方的文档对于属性选择器的介绍太长，就不放全文了。",-1),l("h2",{id:"",tabindex:"-1"},[e("@ "),l("a",{class:"header-anchor",href:"#","aria-label":'Permalink to "@"'},"​")],-1),l("p",null,[e("现在介绍一下"),l("code",null,"@"),e("。")],-1),l("blockquote",null,[l("p",null,[l("code",null,"@"),e(" 表示选择此节点, 一条规则最后属性选择器 "),l("code",null,"@"),e(" 生效, 如果没有 "),l("code",null,"@"),e(", 取最后一个属性选择器")])],-1),l("p",null,"什么意思呢？这里用一条规则去举例：",-1),l("div",{class:"language-"},[l("button",{title:"Copy code",class:"copy"}),l("span",{class:"lang"}),l("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[l("code",{"v-pre":""},[l("span",{class:"line"},[l("span",null,"FrameLayout > @FrameLayout > ViewGroup")])])]),l("button",{class:"code-block-unfold-btn"})],-1),l("p",null,[e("现在的"),l("code",null,"@"),e("在第二个"),l("code",null,"FrameLayout"),e("处，就是告诉程序：你要点击的是这个"),l("code",null,"FrameLayout"),e("，而不是其它的节点。")],-1),l("p",null,[e("如果现在将"),l("code",null,"@"),e("删去，变成")],-1),l("div",{class:"language-"},[l("button",{title:"Copy code",class:"copy"}),l("span",{class:"lang"}),l("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[l("code",{"v-pre":""},[l("span",{class:"line"},[l("span",null,"FrameLayout > FrameLayout > ViewGroup")])])]),l("button",{class:"code-block-unfold-btn"})],-1),l("p",null,[e("会是什么结果？程序就不会点击第二个"),l("code",null,"FrameLayout"),e("，而是点击最后的"),l("code",null,"ViewGroup"),e("了。")],-1),l("p",null,"可以将其理解为与下方的规则等价",-1),l("div",{class:"language-"},[l("button",{title:"Copy code",class:"copy"}),l("span",{class:"lang"}),l("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[l("code",{"v-pre":""},[l("span",{class:"line"},[l("span",null,"FrameLayout > FrameLayout > @ViewGroup")])])]),l("button",{class:"code-block-unfold-btn"})],-1),l("h2",{id:"name属性",tabindex:"-1"},[e("name属性 "),l("a",{class:"header-anchor",href:"#name属性","aria-label":'Permalink to "name属性"'},"​")],-1),l("p",null,[e("上节规则中的"),l("code",null,"FrameLayout"),e("、"),l("code",null,"ViewGroup"),e("到底是什么？")],-1),l("p",null,"现在来介绍：name属性。",-1),l("p",null,[l("s",null,"不是什么重点就随便写写啦")],-1),l("p",null,[l("code",null,"FrameLayout"),e("、"),l("code",null,"ViewGroup"),e("，包括常见的"),l("code",null,"TextView"),e("、"),l("code",null,"ImageView"),e("等等，都是节点的name属性，代表着该节点的类型*（个人理解）*。")],-1),l("blockquote",null,[l("p",null,"由于该选择器主要用于 Android 平台, 节点的 name 都是 java 类如 android.text.TextView 这种形式")],-1),l("p",null,[l("code",null,"TextView"),e("等价于"),l("code",null,"[name='TextView'||name$='.TextView']"),e("，其它也是一样的。")],-1),l("h2",{id:"表达式",tabindex:"-1"},[e("表达式 "),l("a",{class:"header-anchor",href:"#表达式","aria-label":'Permalink to "表达式"'},"​")],-1),l("p",null,[e("表达式有"),l("code",null,"逻辑表达式"),e("和"),l("code",null,"布尔表达式"),e("，表达式一般跟在"),l("code",null,"name属性"),e("后面，用"),l("code",null,"[]"),e("括起来。")],-1),l("p",null,[e("看到这里，你就想到上节末尾的"),l("code",null,"[name='TextView'||name$='.TextView']"),e("，没错，那就是一个表达式。")],-1),l("p",null,[e("表达式的作用是：限制"),l("code",null,"name属性"),e("的范围。如果只写"),l("code",null,"FrameLayout"),e("，那一个快照内有多少的"),l("code",null,"FrameLayout"),e("，程序不能明白你要点击的是哪个"),l("code",null,"FrameLayout"),e("。但是加上表达式后，程序就知道你要点击哪一个"),l("code",null,"FrameLayout"),e("了")],-1),l("h3",{id:"布尔表达式",tabindex:"-1"},[e("布尔表达式 "),l("a",{class:"header-anchor",href:"#布尔表达式","aria-label":'Permalink to "布尔表达式"'},"​")],-1),l("blockquote",null,[l("p",null,[e("布尔表达式 由 "),l("code",null,"属性名"),e(),l("code",null,"操作符"),e(),l("code",null,"值"),e(" 构成")])],-1),l("h4",{id:"属性名",tabindex:"-1"},[e("属性名 "),l("a",{class:"header-anchor",href:"#属性名","aria-label":'Permalink to "属性名"'},"​")],-1),l("p",null,[e("在网页审查工具中，红圈的地方就是属性名。"),l("img",{src:"https://cdn.jsdelivr.net/gh/adproqwq/AdproImageHostingService@main/GKD%E6%95%99%E7%A8%8B-1.6gdio2c65tg0.png",alt:"属性名展示"})],-1),l("p",null,[e("在实际规则编写中，一般不允许使用从"),l("code",null,"left"),e("往下的，除"),l("code",null,"childCount"),e("和"),l("code",null,"index"),e("以外的属性名。")],-1),l("h4",{id:"操作符",tabindex:"-1"},[e("操作符 "),l("a",{class:"header-anchor",href:"#操作符","aria-label":'Permalink to "操作符"'},"​")],-1),l("p",null,[e("操作符有："),l("code",null,"="),e("， "),l("code",null,"!="),e("， "),l("code",null,">"),e("， "),l("code",null,"<"),e("， "),l("code",null,">="),e("， "),l("code",null,"<="),e("， "),l("code",null,"^="),e("， "),l("code",null,"*="),e("， "),l("code",null,"$="),e("， "),l("code",null,"!^="),e("， "),l("code",null,"!*="),e("， "),l("code",null,"!$=")],-1),l("p",null,[l("code",null,"^="),e("："),l("code",null,"以...开始"),l("code",null,"*="),e("："),l("code",null,"包含"),l("code",null,"$="),e("："),l("code",null,"以...结束"),l("code",null,"!^="),e("："),l("code",null,"不以...开始"),l("code",null,"!*="),e("："),l("code",null,"不包含"),l("code",null,"!$="),e("："),l("code",null,"不以...结束")],-1),l("p",null,[e("这里用"),l("code",null,"*="),e("举例：")],-1),l("div",{class:"language-"},[l("button",{title:"Copy code",class:"copy"}),l("span",{class:"lang"}),l("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[l("code",{"v-pre":""},[l("span",{class:"line"},[l("span",null,"TextView[text*='123']")])])]),l("button",{class:"code-block-unfold-btn"})],-1),l("p",null,[e("这条规则的意思就是：选择"),l("code",null,"text"),e("属性名中包含"),l("code",null,"123"),e("的节点。")],-1),l("p",null,"其它是雷同的。",-1),l("h4",{id:"值",tabindex:"-1"},[e("值 "),l("a",{class:"header-anchor",href:"#值","aria-label":'Permalink to "值"'},"​")],-1),l("p",null,[e("值有4种类型："),l("code",null,"null"),e("，"),l("code",null,"boolean"),e("，"),l("code",null,"string"),e("，"),l("code",null,"int")],-1),l("ul",null,[l("li",null,[l("code",null,"null"),e("，一般不用")]),l("li",null,[l("code",null,"boolean"),e("：使用"),l("code",null,"true"),e("或者"),l("code",null,"false"),e("，比较少见")]),l("li",null,[l("code",null,"string"),e("：使用\"、`、'之一成对包裹，内部字符转义使用"),l("code",null,"\\"),e("。注意："),l("code",null,"string"),e("不支持多行字符，另外处于 "),l("code",null,"[0, 0x1F]"),e(" 的控制字符必须使用转义字符表示")]),l("li",null,[l("code",null,"int"),e("：匹配"),l("code",null,"0-9"),e("的数字，仅支持10进制")])],-1),l("p",null,[e("特别地，有些"),l("code",null,"操作符"),e("只能在对应的类型使用。")],-1),l("p",null,[e("如"),l("code",null,"a>''"),e("，学过数学的同学都知道：大于号是用来比较数字的大小的。同样的，"),l("code",null,">"),e("这个操作符只能用于"),l("code",null,"int"),e("类型的值，但是例子却用来比较"),l("code",null,"string"),e("类型的值，所以它永远是不成立的。放到规则编写里，这就是非法选择器。")],-1),l("p",null,[e("下面是"),l("code",null,"操作符"),e("在"),l("code",null,"值"),e("的类型中的可用性的表格（"),l("code",null,"-"),e("表示不可用）：")],-1),l("figure",null,[l("img",{src:"https://cdn.jsdelivr.net/gh/adproqwq/AdproImageHostingService@main/GKD%E6%95%99%E7%A8%8B-2.5n9v0l4toxk0.png",alt:"可用性表格",loading:"lazy",decoding:"async"})],-1),l("h3",{id:"逻辑表达式",tabindex:"-1"},[e("逻辑表达式 "),l("a",{class:"header-anchor",href:"#逻辑表达式","aria-label":'Permalink to "逻辑表达式"'},"​")],-1),l("p",null,[l("code",null,"逻辑表达式"),e("有"),l("code",null,"操作符"),e("："),l("code",null,"||"),e("和"),l("code",null,"&&")],-1),l("ul",null,[l("li",null,[l("code",null,"||"),e("：表示"),l("code",null,"或"),e("，即"),l("code",null,"||"),e("的两边只需满足其一。"),l("code",null,"||"),e("的两边常为"),l("code",null,"布尔表达式")]),l("li",null,[l("code",null,"&&"),e("：表示"),l("code",null,"并且"),e("，即"),l("code",null,"&&"),e("的两边需要全部满足。"),l("code",null,"&&"),e("的两边常为"),l("code",null,"布尔表达式")])],-1),l("p",null,[e("特别地，"),l("code",null,"&&"),e("的优先级更高，即"),l("code",null,"[a>1||b>1&&c>1||d>1]"),e("等价于"),l("code",null,"[a>1||(b>1&&c>1)||d>1]")],-1)])]),"main-header":n(()=>[o(a.$slots,"main-header")]),"main-header-after":n(()=>[o(a.$slots,"main-header-after")]),"main-nav":n(()=>[o(a.$slots,"main-nav")]),"main-content-before":n(()=>[o(a.$slots,"main-content-before")]),"main-content":n(()=>[o(a.$slots,"main-content")]),"main-content-after":n(()=>[o(a.$slots,"main-content-after")]),"main-nav-before":n(()=>[o(a.$slots,"main-nav-before")]),"main-nav-after":n(()=>[o(a.$slots,"main-nav-after")]),comment:n(()=>[o(a.$slots,"comment")]),footer:n(()=>[o(a.$slots,"footer")]),aside:n(()=>[o(a.$slots,"aside")]),"aside-custom":n(()=>[o(a.$slots,"aside-custom")]),default:n(()=>[o(a.$slots,"default")]),_:3},8,["frontmatter"])}}};export{j as default,$ as usePageData};
