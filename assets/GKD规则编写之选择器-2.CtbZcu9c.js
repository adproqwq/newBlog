import{_ as m}from"./ValaxyMain.vue_vue_type_style_index_0_lang.DKygBXel.js";import"./chunks/@vueuse/motion.C6Ekihuy.js";import{e as h,u as B,a as A}from"./chunks/vue-router.CzbdkCaa.js";import{aa as b,al as e,ag as o,af as l,ai as n,P as f,ab as x,a1 as k}from"./framework.B2YFe9Mq.js";import"./app.CGSMPxd4.js";import"./chunks/dayjs.BdcnXKr1.js";import"./chunks/vue-i18n.CjNrT1TA.js";import"./chunks/pinia.BWx5iqyz.js";import"./chunks/nprogress.B9kMoawc.js";/* empty css                    */import"./YunComment.vue_vue_type_style_index_0_lang.CQHXVoVf.js";import"./index.C5okkQwF.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang.BiS5ARWp.js";import"./post.Bp7QhKsz.js";const P=h("/posts/GKD规则编写之选择器-2",async u=>JSON.parse('{"title":"GKD规则编写之选择器-2","description":"","frontmatter":{"title":"GKD规则编写之选择器-2","tags":["GKD","教程"],"date":"2023-12-23 22:29:42","categories":["教程","GKD"]},"headers":[],"relativePath":"pages/posts/GKD规则编写之选择器-2.md","lastUpdated":1760720111000}'),{lazy:(u,d)=>u.name===d.name}),S={__name:"GKD规则编写之选择器-2",setup(u,{expose:d}){const{data:r}=P(),i=A(),s=B(),t=Object.assign(s.meta.frontmatter||{},r.value?.frontmatter||{});return i.currentRoute.value.data=r.value,k("valaxy:frontmatter",t),globalThis.$frontmatter=t,d({frontmatter:{title:"GKD规则编写之选择器-2",tags:["GKD","教程"],date:"2023-12-23 22:29:42",categories:["教程","GKD"]}}),(a,c)=>{const p=m;return x(),b(p,{frontmatter:f(t)},{"main-content-md":e(()=>[...c[0]||(c[0]=[l("h1",{id:"关系选择器",tabindex:"-1"},[n("关系选择器 "),l("a",{class:"header-anchor",href:"#关系选择器","aria-label":'Permalink to "关系选择器"'},"​")],-1),l("p",null,[n("上一篇讲完了"),l("code",null,"属性选择器"),n("，现在来讲"),l("code",null,"关系选择器")],-1),l("p",null,[l("code",null,"关系选择器"),n("用于连接两个"),l("code",null,"属性选择器"),n("，可以回忆一下1+2的例子，+号就是所谓"),l("code",null,"关系选择器"),n("。")],-1),l("p",null,[l("code",null,"关系选择器"),n("由两部分构成，分别是："),l("code",null,"关系操作符"),n("和"),l("code",null,"关系表达式")],-1),l("h2",{id:"关系操作符",tabindex:"-1"},[n("关系操作符 "),l("a",{class:"header-anchor",href:"#关系操作符","aria-label":'Permalink to "关系操作符"'},"​")],-1),l("p",null,[l("code",null,"关系操作符"),n("，用于指示查找节点的方向")],-1),l("p",null,[n("打个比方，将所有的节点比作一个大家庭，那么这个家庭里面就肯定会有兄弟姐妹、祖先后人。那么"),l("code",null,"关系操作符"),n("就是用来描述两个节点间的关系。")],-1),l("p",null,[l("code",null,"关系操作符"),n("有5种："),l("code",null,"+"),n("、"),l("code",null,"-"),n("、"),l("code",null,">"),n("、"),l("code",null,"<"),n("、"),l("code",null,"<<")],-1),l("h3",{id:"",tabindex:"-1"},[n("+ "),l("a",{class:"header-anchor",href:"#","aria-label":'Permalink to "+"'},"​")],-1),l("p",null,[l("code",null,"+"),n("操作符，表示前置兄弟节点。")],-1),l("p",null,"何为前置兄弟节点？",-1),l("p",null,[n("这里给一个样例："),l("code",null,"A + B")],-1),l("p",null,"用回那个比喻，A跟B就是家里的两兄弟，而且他们是“相邻”的兄弟（“相邻”的兄弟就是指大哥和二哥、三哥和四哥这样的数字相邻的兄弟）",-1),l("p",null,"A是大哥，B就是二哥",-1),l("p",null,"只能匹配相邻的兄弟节点，那岂不是很鸡肋？",-1),l("p",null,[n("放心，在讲完"),l("code",null,"关系表达式"),n("后，就不会让你觉得鸡肋了")],-1),l("h3",{id:"-1",tabindex:"-1"},[n("- "),l("a",{class:"header-anchor",href:"#-1","aria-label":'Permalink to "-"'},"​")],-1),l("p",null,[l("code",null,"-"),n("操作符，表示后置兄弟节点。")],-1),l("p",null,[n("还是那个样例，不过把"),l("code",null,"+"),n("换成"),l("code",null,"-"),n("变成："),l("code",null,"A - B")],-1),l("p",null,"A和B还是家里的两兄弟，也还是“相邻”兄弟，但是现在：",-1),l("p",null,"B是大哥，A是二哥",-1),l("p",null,[n("总的来说，可以类比数学的逆运算，"),l("code",null,"-"),n("操作符就是"),l("code",null,"+"),n("操作符的逆运算")],-1),l("h3",{id:"-2",tabindex:"-1"},[n("> "),l("a",{class:"header-anchor",href:"#-2","aria-label":'Permalink to ">"'},"​")],-1),l("p",null,[l("code",null,">"),n("操作符，表示祖先节点。")],-1),l("p",null,[n("有请助教样例大哥："),l("code",null,"A > B")],-1),l("p",null,"祖先节点，字面意思：就是谁是谁祖先",-1),l("p",null,"那么看到样例，A是B的祖先，很好理解吧",-1),l("p",null,"但是祖先也有辈分之分啊，这个样例中，A就是B的爸爸~~（没错，你可以管你的爸爸叫祖先）~~",-1),l("p",null,[n("还是那句话，讲完"),l("code",null,"关系表达式"),n("就可以解锁更高级操作了")],-1),l("h3",{id:"-3",tabindex:"-1"},[n("< "),l("a",{class:"header-anchor",href:"#-3","aria-label":'Permalink to "<"'},"​")],-1),l("p",null,[l("code",null,"<"),n("操作符，表示直接"),l("strong",null,"子"),n("节点")],-1),l("p",null,[n("还是助教大哥："),l("code",null,"A < B")],-1),l("p",null,"还是按照字面理解：谁是谁儿子",-1),l("p",null,"样例中表达的就是：A节点是B节点儿子",-1),l("h3",{id:"-4",tabindex:"-1"},[n("<< "),l("a",{class:"header-anchor",href:"#-4","aria-label":'Permalink to "<<"'},"​")],-1),l("p",null,[l("code",null,"<<"),n("操作符，表示子孙节点")],-1),l("p",null,[n("不说了，懂得都懂："),l("code",null,"A << B")],-1),l("p",null,"还是字面意思：谁是谁的子孙，也就是谁是谁的后代",-1),l("p",null,"样例就是：A是B的后代",-1),l("h2",{id:"关系表达式",tabindex:"-1"},[n("关系表达式 "),l("a",{class:"header-anchor",href:"#关系表达式","aria-label":'Permalink to "关系表达式"'},"​")],-1),l("p",null,[n("关系表达式分两种，"),l("code",null,"元组表达式"),n("和"),l("code",null,"多项式表达式"),n("。关系表达式被"),l("code",null,"()"),n("括起来，并且位于关系操作符的后方")],-1),l("h3",{id:"元组表达式",tabindex:"-1"},[n("元组表达式 "),l("a",{class:"header-anchor",href:"#元组表达式","aria-label":'Permalink to "元组表达式"'},"​")],-1),l("p",null,[l("code",null,"元组表达式"),n("由有序递增的正整数组成，可以理解为数学中的数列")],-1),l("p",null,[n("下面是几个"),l("code",null,"元组表达式"),n("：")],-1),l("ul",null,[l("li",null,[l("code",null,"(1)")]),l("li",null,[l("code",null,"(1,2,3,4,5)")]),l("li",null,[l("code",null,"(2,4,6)")])],-1),l("h3",{id:"多项式表达式",tabindex:"-1"},[n("多项式表达式 "),l("a",{class:"header-anchor",href:"#多项式表达式","aria-label":'Permalink to "多项式表达式"'},"​")],-1),l("p",null,[l("code",null,"多项式表达式"),n("中的"),l("code",null,"多项式"),n("就是数学中的一元一次多项式，在"),l("code",null,"多项式表达式"),n("中以n为未知数")],-1),l("p",null,[n("从本质来说，"),l("code",null,"多项式表达式"),n("是"),l("code",null,"元组表达式"),n("的另一种表达方式")],-1),l("blockquote",null,[l("p",null,[n("这个元组的数字满足集合 "),l("code",null,"{an+b|an+b>=1,n>=1}(a,b是常整数)"),n(" 如果集合为空集则表达式非法")])],-1),l("p",null,"那么，根据初中数学相关知识，我们可以知道：",-1),l("ol",null,[l("li",null,[l("p",null,[n("当a<=0时，存在一个等价的有限"),l("code",null,"元组表达式"),n("，如：")]),l("ul",null,[l("li",null,[l("code",null,"(-n+4)"),n("等价于"),l("code",null,"(1,2,3)")]),l("li",null,[l("code",null,"(-3n+10)"),n("等价于"),l("code",null,"(1,4,7)")])])]),l("li",null,[l("p",null,[n("当a>0时，存在一个等价的无限"),l("code",null,"元组表达式"),n("，如：")]),l("ul",null,[l("li",null,[l("code",null,"(n)"),n("等价于"),l("code",null,"(1,2,3,...)")]),l("li",null,[l("code",null,"(2n-1)"),n("等价于"),l("code",null,"(1,3,5,...)")])])])],-1),l("h2",{id:"关系选择器-1",tabindex:"-1"},[n("关系选择器 "),l("a",{class:"header-anchor",href:"#关系选择器-1","aria-label":'Permalink to "关系选择器"'},"​")],-1),l("blockquote",null,[l("p",null,"将 关系操作符 和 关系表达式 连接起来就得到了 关系选择器")],-1),l("h3",{id:"用法解释",tabindex:"-1"},[n("用法解释 "),l("a",{class:"header-anchor",href:"#用法解释","aria-label":'Permalink to "用法解释"'},"​")],-1),l("p",null,[n("以下是5个"),l("code",null,"关系选择器"),n("：")],-1),l("ul",null,[l("li",null,[l("code",null,"A +5 B")]),l("li",null,[l("code",null,"A -5 B")]),l("li",null,[l("code",null,"A >3 B")]),l("li",null,[l("code",null,"A <3 B")]),l("li",null,[l("code",null,"A <<n B")])],-1),l("p",null,[n("对于"),l("code",null,"A +5 B"),n("，就是说：A是大哥，B就是六哥")],-1),l("p",null,[n("同样的，对于"),l("code",null,"A -5 B"),n("，A是六哥，B是大哥")],-1),l("p",null,[n("对于"),l("code",null,"A >3 B"),n("，A是爷爷（设为第1代），B是曾孙子（则B为第4代）")],-1),l("p",null,[n("但是"),l("code",null,"A <3 B"),n("有些许不同，不知道你有没有注意到：在介绍"),l("code",null,"<"),n("关系操作符时，"),l("code",null,"子"),n("字被加粗了。")],-1),l("p",null,[n("因为"),l("code",null,"A <3 B"),n("并不是曾孙子与爷爷的关系，而是三哥与爸爸的关系，即：A是B的三儿子")],-1),l("p",null,[n("对于"),l("code",null,"A <<n B"),n("，A是B的祖先，由于它的"),l("code",null,"多项式表达式"),n("是"),l("code",null,"(n)"),n("，等价的"),l("code",null,"元组表达式"),n("就是"),l("code",null,"(1,2,3,...)"),n("，所以可以找到A的所有B祖先")],-1),l("h3",{id:"定义",tabindex:"-1"},[n("定义 "),l("a",{class:"header-anchor",href:"#定义","aria-label":'Permalink to "定义"'},"​")],-1),l("p",null,[n("还记得上一篇讲过的"),l("code",null,"属性名"),n("吗？其中的"),l("code",null,"index"),n("、"),l("code",null,"depth"),n("是确定两个节点之间关系的关键")],-1),l("blockquote",null,[l("p",null,[l("code",null,"A +(a1,a2,a3,a_n) B"),n(" : A.index 满足 B.index-a_m, 其中 a_m 是元组的任意一个数字")]),l("p",null,[l("code",null,"A -(a1,a2,a3,a_n) B"),n(" : A.index 满足 B.index+(a_m)")]),l("p",null,[l("code",null,"A >(a1,a2,a3,a_n) B"),n(" : A.depth 满足 B.depth-a_m, 根节点的 depth=0")]),l("p",null,[l("code",null,"A <(a1,a2,a3,a_n) B"),n(" : A.index 满足 a_m-1")]),l("p",null,[l("code",null,"A <<(a1,a2,a3,a_n) B"),n(" : A.order 满足 a_m-1, A.order（无法通过网页审查工具得知） 是深度优先先序遍历的索引 (搭配 quickFind 使用)")])],-1),l("p",null,[n("所以，确定两个节点的关系关键在于"),l("code",null,"index"),n("和"),l("code",null,"depth"),n("的值，而不是单纯的数户口。")],-1),l("p",null,[n("例如：现在有2个"),l("code",null,"FrameLayout"),n("，其中一个的"),l("code",null,"index"),n("值是0，另一个的"),l("code",null,"index"),n("值是3，但是它们在网页审查工具中是相邻的节点。如果你要使用"),l("code",null,"-"),n("关系操作符选中"),l("code",null,"index"),n("为3的"),l("code",null,"FrameLayout"),n("，这时规则就不能写成"),l("code",null,"@FrameLayout[index=3] - FrameLayout[index=0]"),n("了，而应写成"),l("code",null,"@FrameLayout[index=3] -3 FrameLayout[index=0]"),n("。当然，实际中写成"),l("code",null,"FrameLayout[index=3]"),n("会更好。")],-1),l("h3",{id:"简写",tabindex:"-1"},[n("简写 "),l("a",{class:"header-anchor",href:"#简写","aria-label":'Permalink to "简写"'},"​")],-1),l("blockquote",null,[l("p",null,[n("当 a=0 或 b=0 时, 括号可以省略, 比如 "),l("code",null,"A +(3n+0) B"),n(" -> "),l("code",null,"A +(3n) B"),n(" -> "),l("code",null,"A +3n B"),n("，"),l("code",null,"A +(0n+3) B"),n(" -> "),l("code",null,"A +(+3) B"),n(" -> "),l("code",null,"A +3 B")]),l("p",null,[n("当 a=0 且 b=1 时, an+b 可以省略, 比如 "),l("code",null,"A <(0n+1) B"),n(" -> "),l("code",null,"A < B"),n(", 此外 "),l("code",null,"A + B"),n(","),l("code",null,"A > B"),n(" 都与等价的 css 语法语义相同")]),l("p",null,[n("当 a=1 且 b=0 且操作符是 "),l("code",null,">"),n(", 可以进一步简写, 比如 "),l("code",null,"A >(1n+0) B"),n(" -> "),l("code",null,"A >n B"),n(" -> "),l("code",null,"A B"),n(", 这与等价的 css 语法语义相同")])],-1),l("p",null,"当然，不简写也是可以的，就是会丧失一些代码的简洁性",-1),l("h1",{id:"后记",tabindex:"-1"},[n("后记 "),l("a",{class:"header-anchor",href:"#后记","aria-label":'Permalink to "后记"'},"​")],-1),l("p",null,"那么，GKD规则编写之选择器的教程就到此结束，也欢迎在评论区留言探讨。",-1),l("p",null,"如果本教程有什么谬误，或者对本教程有什么建议的话，也欢迎在下方评论区给出你的建议。",-1),l("p",null,"本篇教程不算太完善，以后会慢慢优化的。",-1),l("p",null,"那么，祝你写的规则不会误触，不会失效！",-1)])]),"main-header":e(()=>[o(a.$slots,"main-header")]),"main-header-after":e(()=>[o(a.$slots,"main-header-after")]),"main-nav":e(()=>[o(a.$slots,"main-nav")]),"main-content-before":e(()=>[o(a.$slots,"main-content-before")]),"main-content":e(()=>[o(a.$slots,"main-content")]),"main-content-after":e(()=>[o(a.$slots,"main-content-after")]),"main-nav-before":e(()=>[o(a.$slots,"main-nav-before")]),"main-nav-after":e(()=>[o(a.$slots,"main-nav-after")]),comment:e(()=>[o(a.$slots,"comment")]),footer:e(()=>[o(a.$slots,"footer")]),aside:e(()=>[o(a.$slots,"aside")]),"aside-custom":e(()=>[o(a.$slots,"aside-custom")]),default:e(()=>[o(a.$slots,"default")]),_:3},8,["frontmatter"])}}};export{S as default,P as usePageData};
